This file is a merged representation of the entire codebase, combining all repository files into a single document.
Generated by Repomix on: 2025-04-15T09:01:38.414Z

================================================================
File Summary
================================================================

Purpose:
--------
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.

File Format:
------------
The content is organized as follows:
1. This summary section
2. Repository information
3. Repository structure
4. Multiple file entries, each consisting of:
  a. A separator line (================)
  b. The file path (File: path/to/file)
  c. Another separator line
  d. The full contents of the file
  e. A blank line

Usage Guidelines:
-----------------
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.

Notes:
------
- Some files may have been excluded based on .gitignore rules and Repomix's
  configuration.
- Binary files are not included in this packed representation. Please refer to
  the Repository Structure section for a complete list of file paths, including
  binary files.

Additional Info:
----------------

For more information about Repomix, visit: https://github.com/yamadashy/repomix

================================================================
Repository Structure
================================================================
appsettings.json
Controllers/HomeController.cs
Controllers/TodoController.cs
Models/ErrorViewModel.cs
Models/TodoItem.cs
MyFirstWebApp.csproj
Program.cs
README.md
Views/_ViewImports.cshtml
Views/_ViewStart.cshtml
Views/Home/Index.cshtml
Views/Home/Privacy.cshtml
Views/Shared/_Layout.cshtml
Views/Shared/_Layout.cshtml.css
Views/Shared/_ValidationScriptsPartial.cshtml
Views/Shared/Error.cshtml
Views/Todo/Create.cshtml
Views/Todo/Details.cshtml
Views/Todo/Index.cshtml

================================================================
Repository Files
================================================================

================
File: appsettings.json
================
{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*"
}

================
File: Controllers/HomeController.cs
================
using System.Diagnostics;
using Microsoft.AspNetCore.Mvc;
using MyFirstWebApp.Models;

namespace MyFirstWebApp.Controllers;

public class HomeController : Controller
{
    private readonly ILogger<HomeController> _logger;

    public HomeController(ILogger<HomeController> logger)
    {
        _logger = logger;
    }

    public IActionResult Index()
    {
        return View();
    }

    public IActionResult Privacy()
    {
        return View();
    }

    [ResponseCache(Duration = 0, Location = ResponseCacheLocation.None, NoStore = true)]
    public IActionResult Error()
    {
        return View(new ErrorViewModel { RequestId = Activity.Current?.Id ?? HttpContext.TraceIdentifier });
    }
}

================
File: Controllers/TodoController.cs
================
using Microsoft.AspNetCore.Mvc;  // 引入 MVC 控制器相關功能
using MyFirstWebApp.Models;      // 引入自定義模型
using System.Collections.Generic; // 引入集合類
using System.Linq;               // 引入 LINQ 查詢功能
namespace MyFirstWebApp.Controllers
{
    /// <summary>
    /// 待辦事項控制器 - 處理所有與待辦事項相關的請求
    /// </summary>
    public class TodoController : Controller
    {
        // 使用靜態列表模擬數據庫存儲
        // 注意：在實際應用中，應該使用數據庫而不是靜態列表，因為靜態列表在應用重啟後會丟失數據
        private static List<TodoItem> _todoItems = new List<TodoItem>
        {
            // 預設添加三個待辦事項作為示例數據
            new TodoItem { Id = 1, Title = "學習 ASP.NET Core", Description = "完成基礎教程", IsDone = false },
            new TodoItem { Id = 2, Title = "創建第一個 Web 應用", Description = "實現待辦事項功能", IsDone = false },
            new TodoItem { Id = 3, Title = "部署應用", Description = "將應用部署到雲端", IsDone = false }
        };

        /// <summary>
        /// 顯示所有待辦事項列表
        /// 對應 URL: /Todo/Index 或 /Todo
        /// HTTP 方法: GET
        /// </summary>
        /// <returns>包含所有待辦事項的視圖</returns>
        public IActionResult Index()
        {
            // 將待辦事項列表傳遞給視圖進行顯示
            return View(_todoItems);
        }

        /// <summary>
        /// 顯示創建新待辦事項的表單
        /// 對應 URL: /Todo/Create
        /// HTTP 方法: GET
        /// </summary>
        /// <returns>創建待辦事項的表單視圖</returns>
        public IActionResult Create()
        {
            // 返回空表單視圖，等待用戶輸入
            return View();
        }

        /// <summary>
        /// 處理創建新待辦事項的表單提交
        /// 對應 URL: /Todo/Create
        /// HTTP 方法: POST
        /// </summary>
        /// <param name="todoItem">從表單提交的待辦事項數據</param>
        /// <returns>成功則重定向到列表頁，失敗則返回表單視圖並顯示錯誤</returns>
        [HttpPost]  // 指定此方法只響應 HTTP POST 請求
        [ValidateAntiForgeryToken]  // 防止跨站請求偽造攻擊(CSRF)
        public IActionResult Create(TodoItem todoItem)
        {
            // 檢查模型驗證是否通過（例如必填字段是否填寫）
            if (ModelState.IsValid)
            {
                // 設置新待辦事項的 ID
                // 在實際數據庫應用中，這通常由數據庫自動生成
                todoItem.Id = _todoItems.Count > 0 ? _todoItems.Max(t => t.Id) + 1 : 1;
                
                // 將新待辦事項添加到列表中
                _todoItems.Add(todoItem);
                
                // 重定向到待辦事項列表頁
                return RedirectToAction(nameof(Index));
            }
            
            // 如果模型驗證失敗，返回表單視圖並顯示錯誤
            return View(todoItem);
        }

        /// <summary>
        /// 顯示待辦事項的詳細信息
        /// 對應 URL: /Todo/Details/{id}
        /// HTTP 方法: GET
        /// </summary>
        /// <param name="id">待辦事項的唯一標識符</param>
        /// <returns>待辦事項詳情視圖，或 404 錯誤（如果找不到）</returns>
        public IActionResult Details(int id)
        {
            // 根據 ID 查找待辦事項
            var todoItem = _todoItems.FirstOrDefault(t => t.Id == id);
            
            // 如果找不到待辦事項，返回 404 錯誤
            if (todoItem == null)
            {
                return NotFound();  // 返回 HTTP 404 狀態碼
            }
            
            // 將待辦事項傳遞給詳情視圖進行顯示
            return View(todoItem);
        }

        /// <summary>
        /// 切換待辦事項的完成狀態（已完成/未完成）
        /// 對應 URL: /Todo/Toggle/{id}
        /// HTTP 方法: GET
        /// </summary>
        /// <param name="id">待辦事項的唯一標識符</param>
        /// <returns>重定向到列表頁，或 404 錯誤（如果找不到）</returns>
        public IActionResult Toggle(int id)
        {
            // 根據 ID 查找待辦事項
            var todoItem = _todoItems.FirstOrDefault(t => t.Id == id);
            
            // 如果找不到待辦事項，返回 404 錯誤
            if (todoItem == null)
            {
                return NotFound();  // 返回 HTTP 404 狀態碼
            }
            
            // 切換完成狀態（如果是已完成則改為未完成，反之亦然）
            todoItem.IsDone = !todoItem.IsDone;
            
            // 重定向到待辦事項列表頁
            return RedirectToAction(nameof(Index));
        }

        /// <summary>
        /// 刪除指定的待辦事項
        /// 對應 URL: /Todo/Delete/{id}
        /// HTTP 方法: GET
        /// 注意：在實際應用中，刪除操作通常應該使用 POST 或 DELETE 方法，而不是 GET
        /// </summary>
        /// <param name="id">待辦事項的唯一標識符</param>
        /// <returns>重定向到列表頁，或 404 錯誤（如果找不到）</returns>
        public IActionResult Delete(int id)
        {
            // 根據 ID 查找待辦事項
            var todoItem = _todoItems.FirstOrDefault(t => t.Id == id);
            
            // 如果找不到待辦事項，返回 404 錯誤
            if (todoItem == null)
            {
                return NotFound();  // 返回 HTTP 404 狀態碼
            }
            
            // 從列表中刪除待辦事項
            _todoItems.Remove(todoItem);
            
            // 重定向到待辦事項列表頁
            return RedirectToAction(nameof(Index));
        }
    }
}

================
File: Models/ErrorViewModel.cs
================
namespace MyFirstWebApp.Models;

public class ErrorViewModel
{
    public string? RequestId { get; set; }

    public bool ShowRequestId => !string.IsNullOrEmpty(RequestId);
}

================
File: Models/TodoItem.cs
================
using System;
using System.ComponentModel.DataAnnotations;

namespace MyFirstWebApp.Models
{
    public class TodoItem
    {
        public int Id { get; set; }

        [Required]
        [Display(Name = "待辦事項")]
        public string Title { get; set; }

        [Display(Name = "描述")]
        public string Description { get; set; }

        [Display(Name = "是否完成")]
        public bool IsDone { get; set; }

        [Display(Name = "創建日期")]
        [DataType(DataType.Date)]
        public DateTime CreatedDate { get; set; } = DateTime.Now;
    }
}

================
File: MyFirstWebApp.csproj
================
<Project Sdk="Microsoft.NET.Sdk.Web">

  <PropertyGroup>
    <TargetFramework>net7.0</TargetFramework>
    <Nullable>enable</Nullable>
    <ImplicitUsings>enable</ImplicitUsings>
  </PropertyGroup>

</Project>

================
File: Program.cs
================
var builder = WebApplication.CreateBuilder(args);

// Add services to the container.
builder.Services.AddControllersWithViews();

var app = builder.Build();

// Configure the HTTP request pipeline.
if (!app.Environment.IsDevelopment())
{
    app.UseExceptionHandler("/Home/Error");
    // The default HSTS value is 30 days. You may want to change this for production scenarios, see https://aka.ms/aspnetcore-hsts.
    app.UseHsts();
}

app.UseHttpsRedirection();
app.UseStaticFiles();

app.UseRouting();

app.UseAuthorization();

app.MapControllerRoute(
    name: "default",
    pattern: "{controller=Home}/{action=Index}/{id?}");

app.Run();

================
File: README.md
================
# MyFirstWebApp - ASP.NET Core MVC 待辦事項應用

這是一個使用 ASP.NET Core MVC 框架開發的簡單待辦事項管理應用程序。該應用程序允許用戶創建、查看、更新和刪除待辦事項，是學習 ASP.NET Core Web 開發的良好起點。

![待辦事項應用截圖](https://via.placeholder.com/800x450.png?text=MyFirstWebApp+Screenshot)

## 功能特點

- ✅ 顯示待辦事項列表
- ✅ 創建新的待辦事項
- ✅ 查看待辦事項詳情
- ✅ 標記待辦事項為已完成/未完成
- ✅ 刪除待辦事項
- ✅ 響應式設計，適配各種設備

## 技術棧

- **後端框架**: ASP.NET Core 7.0
- **前端框架**: Bootstrap 5
- **模板引擎**: Razor
- **架構模式**: MVC (Model-View-Controller)
- **數據存儲**: 內存中集合 (模擬數據庫)

## 系統需求

- .NET SDK 7.0 或更高版本
- 任何現代瀏覽器 (Chrome, Firefox, Edge, Safari)
- 操作系統: Windows, macOS, 或 Linux

## 安裝指南

### 先決條件

1. 安裝 [.NET SDK 7.0](https://dotnet.microsoft.com/download/dotnet/7.0) 或更高版本
2. 安裝 [Visual Studio Code](https://code.visualstudio.com/) (推薦) 或其他 IDE

### 克隆倉庫

```bash
git clone https://github.com/ryus2002/aspnet_core.git
cd aspnet_core
```

### 運行應用程序

```bash
cd MyFirstWebApp
dotnet run
```

應用程序將在 `https://localhost:5001` 和 `http://localhost:5000` 啟動 (端口可能會有所不同)。

## 使用指南

### 查看待辦事項列表

訪問應用程序主頁或點擊導航菜單中的「待辦事項」選項，即可查看所有待辦事項。

### 創建新待辦事項

1. 在待辦事項列表頁面，點擊「創建新待辦事項」按鈕
2. 填寫表單，包括標題、描述和完成狀態
3. 點擊「創建」按鈕保存

### 查看待辦事項詳情

在待辦事項列表中，點擊「詳情」按鈕查看特定待辦事項的完整信息。

### 標記為已完成/未完成

在待辦事項列表或詳情頁面，點擊「標記為已完成」或「標記為未完成」按鈕可切換待辦事項的完成狀態。

### 刪除待辦事項

在待辦事項列表中，點擊「刪除」按鈕可移除不需要的待辦事項。

## 項目結構

```
MyFirstWebApp/
├── Controllers/            # 控制器類
│   ├── HomeController.cs   # 首頁控制器
│   └── TodoController.cs   # 待辦事項控制器
├── Models/                 # 數據模型
│   ├── ErrorViewModel.cs   # 錯誤視圖模型
│   └── TodoItem.cs         # 待辦事項模型
├── Views/                  # 視圖文件
│   ├── Home/               # 首頁視圖
│   ├── Todo/               # 待辦事項視圖
│   └── Shared/             # 共享視圖組件
├── wwwroot/                # 靜態資源
│   ├── css/                # 樣式表
│   ├── js/                 # JavaScript 文件
│   └── lib/                # 第三方庫
├── Program.cs              # 應用程序入口點
└── appsettings.json        # 應用程序配置
```

## 未來計劃

- [ ] 添加數據庫支持 (使用 Entity Framework Core)
- [ ] 實現用戶認證和授權
- [ ] 添加搜索和過濾功能
- [ ] 添加截止日期和提醒功能
- [ ] 改進用戶界面和用戶體驗

## 貢獻指南

1. Fork 這個倉庫
2. 創建您的功能分支 (`git checkout -b feature/amazing-feature`)
3. 提交您的更改 (`git commit -m 'Add some amazing feature'`)
4. 推送到分支 (`git push origin feature/amazing-feature`)
5. 打開一個 Pull Request

## 許可證

本項目採用 MIT 許可證 - 查看 [LICENSE](LICENSE) 文件了解詳情。

## 聯繫方式

如有任何問題或建議，請通過以下方式聯繫我：

- GitHub: [ryus2002](https://github.com/ryus2002)
- Email: [您的郵箱地址]

## 致謝

- [ASP.NET Core](https://docs.microsoft.com/aspnet/core) - Web 框架
- [Bootstrap](https://getbootstrap.com/) - CSS 框架
- [jQuery](https://jquery.com/) - JavaScript 庫

================
File: Views/_ViewImports.cshtml
================
@using MyFirstWebApp
@using MyFirstWebApp.Models
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

================
File: Views/_ViewStart.cshtml
================
@{
    Layout = "_Layout";
}

================
File: Views/Home/Index.cshtml
================
@{
    ViewData["Title"] = "Home Page";
}

<div class="text-center">
    <h1 class="display-4">Welcome</h1>
    <p>Learn about <a href="https://docs.microsoft.com/aspnet/core">building Web apps with ASP.NET Core</a>.</p>
</div>

================
File: Views/Home/Privacy.cshtml
================
@{
    ViewData["Title"] = "Privacy Policy";
}
<h1>@ViewData["Title"]</h1>

<p>Use this page to detail your site's privacy policy.</p>

================
File: Views/Shared/_Layout.cshtml
================
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - MyFirstWebApp</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/MyFirstWebApp.styles.css" asp-append-version="true" />
</head>
<body>
    <header>
        <nav class="navbar navbar-expand-sm navbar-toggleable-sm navbar-light bg-white border-bottom box-shadow mb-3">
            <div class="container-fluid">
                <a class="navbar-brand" asp-area="" asp-controller="Home" asp-action="Index">MyFirstWebApp</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target=".navbar-collapse" aria-controls="navbarSupportedContent"
                        aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="navbar-collapse collapse d-sm-inline-flex justify-content-between">
                    <ul class="navbar-nav flex-grow-1">
                        <li class="nav-item">
                            <a class="nav-link text-dark" asp-area="" asp-controller="Home" asp-action="Index">首頁</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" asp-area="" asp-controller="Todo" asp-action="Index">待辦事項</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" asp-area="" asp-controller="Home" asp-action="Privacy">隱私</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>
    <div class="container">
        <main role="main" class="pb-3">
            @RenderBody()
        </main>
    </div>

    <footer class="border-top footer text-muted">
        <div class="container">
            &copy; 2025 - MyFirstWebApp - <a asp-area="" asp-controller="Home" asp-action="Privacy">隱私</a>
        </div>
    </footer>
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>

================
File: Views/Shared/_Layout.cshtml.css
================
/* Please see documentation at https://docs.microsoft.com/aspnet/core/client-side/bundling-and-minification
for details on configuring this project to bundle and minify static web assets. */

a.navbar-brand {
  white-space: normal;
  text-align: center;
  word-break: break-all;
}

a {
  color: #0077cc;
}

.btn-primary {
  color: #fff;
  background-color: #1b6ec2;
  border-color: #1861ac;
}

.nav-pills .nav-link.active, .nav-pills .show > .nav-link {
  color: #fff;
  background-color: #1b6ec2;
  border-color: #1861ac;
}

.border-top {
  border-top: 1px solid #e5e5e5;
}
.border-bottom {
  border-bottom: 1px solid #e5e5e5;
}

.box-shadow {
  box-shadow: 0 .25rem .75rem rgba(0, 0, 0, .05);
}

button.accept-policy {
  font-size: 1rem;
  line-height: inherit;
}

.footer {
  position: absolute;
  bottom: 0;
  width: 100%;
  white-space: nowrap;
  line-height: 60px;
}

================
File: Views/Shared/_ValidationScriptsPartial.cshtml
================
<script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
<script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>

================
File: Views/Shared/Error.cshtml
================
@model ErrorViewModel
@{
    ViewData["Title"] = "Error";
}

<h1 class="text-danger">Error.</h1>
<h2 class="text-danger">An error occurred while processing your request.</h2>

@if (Model.ShowRequestId)
{
    <p>
        <strong>Request ID:</strong> <code>@Model.RequestId</code>
    </p>
}

<h3>Development Mode</h3>
<p>
    Swapping to <strong>Development</strong> environment will display more detailed information about the error that occurred.
</p>
<p>
    <strong>The Development environment shouldn't be enabled for deployed applications.</strong>
    It can result in displaying sensitive information from exceptions to end users.
    For local debugging, enable the <strong>Development</strong> environment by setting the <strong>ASPNETCORE_ENVIRONMENT</strong> environment variable to <strong>Development</strong>
    and restarting the app.
</p>

================
File: Views/Todo/Create.cshtml
================
@model MyFirstWebApp.Models.TodoItem

@{
    ViewData["Title"] = "創建待辦事項";
}

<h1>@ViewData["Title"]</h1>

<div class="row">
    <div class="col-md-6">
        <form asp-action="Create">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            
            <div class="form-group mb-3">
                <label asp-for="Title" class="control-label"></label>
                <input asp-for="Title" class="form-control" />
                <span asp-validation-for="Title" class="text-danger"></span>
            </div>
            
            <div class="form-group mb-3">
                <label asp-for="Description" class="control-label"></label>
                <textarea asp-for="Description" class="form-control" rows="3"></textarea>
                <span asp-validation-for="Description" class="text-danger"></span>
            </div>
            
            <div class="form-group form-check mb-3">
                <label class="form-check-label">
                    <input class="form-check-input" asp-for="IsDone" /> @Html.DisplayNameFor(model => model.IsDone)
                </label>
            </div>
            
            <div class="form-group mb-3">
                <input type="submit" value="創建" class="btn btn-primary" />
                <a asp-action="Index" class="btn btn-secondary">返回列表</a>
            </div>
        </form>
    </div>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}

================
File: Views/Todo/Details.cshtml
================
@model MyFirstWebApp.Models.TodoItem

@{
    ViewData["Title"] = "待辦事項詳情";
}

<h1>@ViewData["Title"]</h1>

<div>
    <hr />
    <dl class="row">
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Title)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Title)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Description)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Description)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.IsDone)
        </dt>
        <dd class="col-sm-10">
            @if (Model.IsDone)
            {
                <span class="text-success">✓ 已完成</span>
            }
            else
            {
                <span class="text-danger">✗ 未完成</span>
            }
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.CreatedDate)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.CreatedDate)
        </dd>
    </dl>
</div>
<div>
    <a asp-action="Toggle" asp-route-id="@Model.Id" class="btn btn-warning">
        @(Model.IsDone ? "標記為未完成" : "標記為已完成")
    </a>
    <a asp-action="Index" class="btn btn-secondary">返回列表</a>
</div>

================
File: Views/Todo/Index.cshtml
================
@model IEnumerable<MyFirstWebApp.Models.TodoItem>

@{
    ViewData["Title"] = "待辦事項列表";
}

<h1>@ViewData["Title"]</h1>

<p>
    <a asp-action="Create" class="btn btn-primary">創建新待辦事項</a>
</p>

<table class="table">
    <thead>
        <tr>
            <th>@Html.DisplayNameFor(model => model.Title)</th>
            <th>@Html.DisplayNameFor(model => model.Description)</th>
            <th>@Html.DisplayNameFor(model => model.IsDone)</th>
            <th>@Html.DisplayNameFor(model => model.CreatedDate)</th>
            <th>操作</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td>@Html.DisplayFor(modelItem => item.Title)</td>
                <td>@Html.DisplayFor(modelItem => item.Description)</td>
                <td>
                    @if (item.IsDone)
                    {
                        <span class="text-success">✓ 已完成</span>
                    }
                    else
                    {
                        <span class="text-danger">✗ 未完成</span>
                    }
                </td>
                <td>@Html.DisplayFor(modelItem => item.CreatedDate)</td>
                <td>
                    <a asp-action="Details" asp-route-id="@item.Id" class="btn btn-info btn-sm">詳情</a>
                    <a asp-action="Toggle" asp-route-id="@item.Id" class="btn btn-warning btn-sm">
                        @(item.IsDone ? "標記為未完成" : "標記為已完成")
                    </a>
                    <a asp-action="Delete" asp-route-id="@item.Id" class="btn btn-danger btn-sm" 
                       onclick="return confirm('確定要刪除這個待辦事項嗎？');">刪除</a>
                </td>
            </tr>
        }
    </tbody>
</table>
